<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.23.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Use Matomo Website Analytics on OCI with MDS - Oracle Developer Tutorials</title>
<meta name="description" content="Matamo, an alternative to Google Analytics, is becoming increasingly popular. This walkthrough shows you how to use this powerful tool with MySQL Database Service and Oracle Cloud Infrastructure.">


  <meta name="author" content="Frédéric Descamps">
  
  <meta property="article:author" content="Frédéric Descamps">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Oracle Developer Tutorials">
<meta property="og:title" content="Use Matomo Website Analytics on OCI with MDS">
<meta property="og:url" content="https://cool.devo.build/tutorials/matamo-with-oci-mds">


  <meta property="og:description" content="Matamo, an alternative to Google Analytics, is becoming increasingly popular. This walkthrough shows you how to use this powerful tool with MySQL Database Service and Oracle Cloud Infrastructure.">



  <meta property="og:image" content="https://cool.devo.build/tutorials/assets/matamo-progress-bar.webp">




  <meta name="twitter:site" content="@groundbreakers">
  <meta name="twitter:title" content="Use Matomo Website Analytics on OCI with MDS">
  <meta name="twitter:description" content="Matamo, an alternative to Google Analytics, is becoming increasingly popular. This walkthrough shows you how to use this powerful tool with MySQL Database Service and Oracle Cloud Infrastructure.">
  <meta name="twitter:url" content="https://cool.devo.build/tutorials/matamo-with-oci-mds">

  
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://cool.devo.build/tutorials/assets/matamo-progress-bar.webp">
    
  

  
    <meta name="twitter:creator" content="@lefred">
  



  <meta property="article:published_time" content="2021-11-18T11:11:00+00:00">






<link rel="canonical" href="https://cool.devo.build/tutorials/matamo-with-oci-mds">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://cool.devo.build/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/main.xml" type="application/atom+xml" rel="alternate" title="Oracle Developer Tutorials Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



<link rel="icon" href="https://www.oracle.com/asset/web/favicons/favicon-32.png" sizes="32x32">

    
    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead oracle-header oracle-headerv1 oracle-headeradj oracle-headerdev">
  <div class="masthead__inner-wrap oracle-headerw1">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <div class="oracle-headers1 site-logo">
          <a class="oracle-logo" href="https://developer.oracle.com/"><span>Oracle</span></a>
        </div>
        <div class="u18-title site-title">
          <a href="/">
            Oracle Developer Tutorials
            
          </a>
        </div>

        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/topics/">Explore Topics</a>
            </li><li class="masthead__menu-item">
            <a href="https://signup.cloud.oracle.com/?language=en&sourceType=:ow:de:te::::RC_WWMK211116P00260:DotBuildGetStarted&intcmp=:ow:de:te::::RC_WWMK211116P00260:DotBuildGetStarted">Try Oracle Free</a>
          </li>
        </ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">

    <div class="sidebar sticky">
    <p><strong>Tags:</strong> <span class="tags">

            
            <a class="animated-link tag" href="/topics/mysql">mysql</a>
            <a class="animated-link tag" href="/topics/analytics">analytics</a>
            <a class="animated-link tag" href="/topics/back-end">back-end</a>
            </span>
    </p>
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <a href="https:/lefred.be/"><h3 class="author__name" itemprop="name">Frédéric Descamps</h3></a>
    
    
      <div class="author__bio" itemprop="description">
        <p>@lefred has been consulting OpenSource and MySQL for 20+ years. After graduating in Management Information Technology, Frédéric started his career as a developer for an ERP under HPUX.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      
        <li>
          <a href="https://twitter.com/lefred" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span>
          </a>
        </li>
      

      

      
        <li>
          <a href="https://www.linkedin.com/in/freddescamps" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span>
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/lefred" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  
  
  <p><strong>From this author:</strong>
    <ul>
      
        <li><a href="/tutorials/deploy-moodle-on-OCI-with-mds">Deploy Moodle on OCI with MDS</a></li>
      
        <li><a href="/tutorials/deploying-joomla-on-oci-and-mds">Deploying Joomla! on OCI and MDS</a></li>
      
        <li><a href="/tutorials/microsoft-sql-to-mds">How to import data from Microsoft SQL Server to MySQL Database Service</a></li>
      
    </ul>
  
  

  </div>


  <article class="page has-sidebar" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Use Matomo Website Analytics on OCI with MDS">
    
    <meta itemprop="datePublished" content="2021-11-18T11:11:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Use Matomo Website Analytics on OCI with MDS
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        

        <p><a href="https://matomo.org/">Matomo</a> is a Google Analytics alternative for tracking metrics on your websites. If you follow my blog, you know how easy it is to deploy popular Open Source web solutions like WordPress, Joomla!, Drupal, Moodle, and Magento on Oracle Cloud Infrastructure (OCI).</p>

<p>All these solutions are using MySQL Database Service to store their data.</p>

<p>I’ve recently added a <a href="https://github.com/lefred/oci-matomo-mds">new stack</a> to  deploy Matomo. Of course, this can be a standalone installation to collect all your analytics from self-hosted websites, but today I’ll describe how to use it with an existing stack we’ve already deployed on OCI.</p>

<p>For this example, I deployed WordPress using the following stack: <a href="https://github.com/lefred/oci-wordpress-mds">oci-wordpress-mds</a>.</p>

<p>The first step is to <a href="https://www.oracle.com/cloud/sign-in.html?redirect_uri=https%3A%2F%2Fcloud.oracle.com%2Fresourcemanager%2Fstacks%2Fcreate%3FzipUrl%3Dhttps%3A%2F%2Fgithub.com%2Flefred%2Foci-matomo-mds%2Freleases%2Fdownload%2Fv1.0.0%2Fstack_matomo_mds.zip&source=:ex:tb:::::WWMK211125P00016:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211125P00016:WW_FY22_DevRel_DotBuild&pcode=WWMK211125P00016">deploy Matomo on OCI</a>.</p>

<p>In the second screen of the Stack’s wizard, we specify that we want to use an existing infrastructure. This way we won’t need to recreate our VCN, subnets, security lists, Internet Gateway, etc. — we want share what we’ve already deployed for WordPress:</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-existing-infrastructure.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-existing-infrastructure.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-existing-infrastructure.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-existing-infrastructure.webp" title="OCI panel where you can toggle whether or not to use existing infrastructure" alt="OCI panel" />
              </picture>
              <figcaption>OCI panel where you can toggle whether or not to use existing infrastructure</figcaption>
            </figure>

<p>As you can see for the majority of the input fields, we need to provide the OCID. These can be found on the OCI’s dashboard. For example the OCID for the MySQL Database can be found here:</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-ocid-commandwebp.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-ocid-commandwebp.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-ocid-commandwebp.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-ocid-commandwebp.webp" title="OCI dashboard with callouts highlighting the Copy OCID command" alt="OCI dashboard" />
              </picture>
              <figcaption>OCI dashboard with callouts highlighting the Copy OCID command</figcaption>
            </figure>

<p>We do this for every resources we want to reuse.</p>

<p>Then we create an apply job for the stack and when done we can get the public IP and other necessary information in the output section:</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-output-info.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-output-info.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-output-info.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-output-info.webp" title="The Outputs page in OCI, where you can find IP address, username, and other information" alt="Outputs page" />
              </picture>
              <figcaption>The Outputs page in OCI, where you can find IP address, username, and other information</figcaption>
            </figure>

<p>We can then enter the public IP in a browser and finish the installation:</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-progress-bar.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-progress-bar.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-progress-bar.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-progress-bar.webp" title="Matamo dashboard with a halfway-finished progress bar" alt="Matamo dashboard" />
              </picture>
              <figcaption>Matamo dashboard with a halfway-finished progress bar</figcaption>
            </figure>

<p>It’s important to use the right connector/adapter: <strong>MYSQLI</strong>.</p>

<p>Then we follow the wizard and enter the required information.</p>

<p>When done, we can add our WordPress in Matomo to start tracking it. The first step is the retrieve its name (in our case, its public IP as I don’t use DNS):</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-public-ip.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-public-ip.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-public-ip.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-public-ip.webp" title="WordPress public IP is available to be copied from the OCI dashboard" alt="WordPress public IP" />
              </picture>
              <figcaption>WordPress public IP is available to be copied from the OCI dashboard</figcaption>
            </figure>

<p>Once added in Matomo, we can retrieve the javascript code used to track our website:</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-js-tracking-code.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-js-tracking-code.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-js-tracking-code.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-js-tracking-code.webp" title="JS tracking code" alt="JS tracking code" />
              </picture>
              <figcaption>JS tracking code</figcaption>
            </figure>

<p>We copy that code and we go into the admin dashboard of our WordPress site to modify the theme and add the previous code in the header file:</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wp-editor.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wp-editor.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wp-editor.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wp-editor.webp" title="WordPress theme editor dashboard" alt="WordPress theme editor dashboard" />
              </picture>
              <figcaption>WordPress theme editor dashboard</figcaption>
            </figure>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-js-paste.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-js-paste.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-js-paste.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-wordpress-js-paste.webp" title="JS code pasted into WordPress editor" alt="JS Code" />
              </picture>
              <figcaption>JS code pasted into WordPress editor</figcaption>
            </figure>

<p>And this is all we needed to be able to get analytics of our website we deployed on OCI.</p>

<figure class="">
              <picture>
                  <source srcset="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-dash-final-code.webp 1x" />
                  <img loading="lazy" src="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-dash-final-code.webp" data-original="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-dash-final-code.webp" data-at2x="https://github.com/oracle-devrel/devo.tutorials/raw/main/assets/matamo-dash-final-code.webp" title="Matomo dashboard" alt="Matomo dashboard" />
              </picture>
              <figcaption>Matomo dashboard</figcaption>
            </figure>


        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-11-18T11:11:00+00:00">November 18, 2021</time></p>


      </footer>

      

      

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/main.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
    <li>
      Back to <a href="https://developer.oracle.com?language=en&sourceType=:ow:de:te::::RC_WWMK211116P00260:DotBuildFooter&intcmp=:ow:de:te::::RC_WWMK211116P00260:DotBuildGetFooter">Developer.Oracle.com</a>
    </li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Oracle</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="/assets/js/custom.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  
    <script src="/assets/js/plugins/readmore.min.js"></script>
  


<!-- Start SiteCatalyst code -->
<script>
  var s_pageName = "devrel:en-us:";
  if (typeof(document.title) != "undefined") {
    var s_pageName = s_pageName + document.title.trim()
  };
</script>
<script src="https://www.oracleimg.com/us/assets/metrics/ora_otn.js"></script>
<!-- End SiteCatalyst code -->


  </body>
  
</html>
